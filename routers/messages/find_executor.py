import urllib.parse

from schemas.executor import Executor


def contact_with_executor(executor: Executor, username: str | None) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–≤—è–∑–∏ —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º"""
    # –ï—Å–ª–∏ —É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –Ω–µ —É–∫–∞–∑–∞–Ω username –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏
    if not username:
        return f"–í –Ω–∞—Å—Ç–æ—è—â–∏–π –º–æ–º–µ–Ω—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º <i>{executor.name}</i>"

    start_dialog_text = "–ü—Ä–∏–≤–µ—Ç! –Ø —Å PRUV bot ‚ú®\n"
    encoded_text = urllib.parse.quote(start_dialog_text)

    msg = f"–û–±—Å—É–¥–∏ –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ –≤ —á–∞—Ç–µ —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º!\n" \
          f"üëâ <a href='https://t.me/{username}?text={encoded_text}'><u>{executor.name}</u></a>\n"

    if executor.contacts:
          msg += f"–ò–ª–∏ —Å–≤—è–∂–∏—Å—å —Å –Ω–∏–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö {executor.contacts}\n\n"
    else:
        msg += "\n"

    return msg


def instruction_msg() -> str:
    """–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ª–µ–Ω—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π"""
    msg = "–û—Ç–ª–∏—á–Ω–æ, —Å–µ–π—á–∞—Å –º—ã –ø–æ–∫–∞–∂–µ–º —Ç–µ–±–µ –∞–Ω–∫–µ—Ç—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –ø–æ —Ç–≤–æ–µ–º—É –∑–∞–ø—Ä–æ—Å—É.\n\n" \
          "–ï—Å–ª–∏ –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –∞–Ω–∫–µ—Ç–∞, –∂–º–∏ üëç —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ —á–∞—Ç—É —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º.\n\n" \
          "–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∞–Ω–∫–µ—Ç—É ‚Äì –∂–º–∏ üëé\n\n" \
          "–õ—é–±—É—é –∞–Ω–∫–µ—Ç—É —Ç—ã –º–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –≤ ‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–µ–π –ø–æ–∑–∂–µ —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é."

    return msg